C51 COMPILER V9.01   LCD12864                                                              09/24/2023 17:11:36 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE LCD12864
OBJECT MODULE PLACED IN LCD12864.OBJ
COMPILER INVOKED BY: D:\Software\Keil\C51\BIN\C51.EXE LCD12864.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include "LCD12864.h"
   2          
   3          void LCD12864_WriteInfomation(unsigned char ucData, bit bComOrData)
   4          {
   5   1          LCD12864_CheckBusy();
   6   1          LCD12864_RW = 0;
   7   1          LCD12864_RS = bComOrData;
   8   1          LCD12864_EN = 1;
   9   1          LCDPORT = ucData;
  10   1          LCD12864_Delay(5);
  11   1          LCD12864_EN = 0;
  12   1      }
  13          
  14          void LCD12864_Init(void)
  15          {
  16   1          LCD12864_PSB = 1;
  17   1      
  18   1          LCD12864_WriteInfomation(0x30, 0);
  19   1          LCD12864_WriteInfomation(0x0c, 0);
  20   1          LCD12864_WriteInfomation(0x01, 0);
  21   1          LCD12864_WriteInfomation(0x06, 0);
  22   1      }
  23          
  24          void LCD12864_CheckBusy(void)
  25          {
  26   1          unsigned char i = 250;
  27   1          LCD12864_RS = 0;
  28   1          LCD12864_RW = 1;
  29   1          LCD12864_EN = 1;
  30   1          while ((i > 0) && (P1 & 0x80))
  31   1              i--;
  32   1          LCD12864_EN = 0;
  33   1      }
  34          
  35          void LCD12864_DisplayOneLine(unsigned char position, unsigned char *p)
  36          {
  37   1          unsigned char i;
  38   1          switch (position)
  39   1          {
  40   2          case 0:
  41   2              LCD12864_WriteInfomation(LINE0, 0);
  42   2              break;
  43   2          case 1:
  44   2              LCD12864_WriteInfomation(LINE1, 0);
  45   2              break;
  46   2          case 2:
  47   2              LCD12864_WriteInfomation(LINE2, 0);
  48   2              break;
  49   2          case 3:
  50   2              LCD12864_WriteInfomation(LINE3, 0);
  51   2              break;
  52   2          default:
  53   2              break;
  54   2          }
  55   1      
C51 COMPILER V9.01   LCD12864                                                              09/24/2023 17:11:36 PAGE 2   

  56   1          for (i = 0; i < 16; i++)
  57   1          {
  58   2              LCD12864_WriteInfomation(*p, 1);
  59   2              p++;
  60   2          }
  61   1      }
  62          
  63          void LCD12864_Delay(unsigned int uiCount)
  64          {
  65   1          uiCount /= 2;
  66   1          while (uiCount--)
  67   1              ;
  68   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    176    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----       5
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
